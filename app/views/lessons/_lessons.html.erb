<% if @course.lessons.any? %>
  <ul class="list-group">
    <% @course.lessons.each do |lesson| %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <h5><%= lesson.title %></h5>
        <div>
          <% if user_signed_in? && (current_user.student.has_course?(lesson.course) || @course.teacher == current_user.teacher) %>
            <%= link_to 'Assistir aula', lesson_path(lesson), class: 'btn btn-primary' %>
          <% end %>
          <% if user_signed_in? && @course.teacher == current_user.teacher %>
            <%= link_to 'Editar', edit_lesson_path(lesson), class: 'btn btn-primary' %>
            <%= link_to 'Excluir', lesson_path(lesson), method: :delete,
                        data: { confirm: 'Tem certeza?' }, class: 'btn btn-danger' %>
          <% end %>
        </div>
      </li>
    <% end %>
  </ul>
<% else %>
  <div class="alert alert-warning">Esse curso ainda n√£o tem aulas.</div>
<% end %>